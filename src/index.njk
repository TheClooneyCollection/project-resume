---
layout: layout-responsive.njk
permalink: index.html
---

{% set currentEnvironment = environment or 'development' %}

<section class="intro">
  <div class="intro__heading">
    <h1 class="intro__name">{{ cv.name }}</h1>
    <ul class="contact-list">
      <li>
        <a href="{{ cv.contact.website }}" target="_blank" rel="noopener">
          {{ cv.contact.website | replace('https://', '') | replace('http://', '') | replace('www.', '') | trim }}
        </a>
      </li>
      {% if cv.contact.githubProfile %}
      <li>
        <a href="{{ cv.contact.githubProfile }}" target="_blank" rel="noopener">
          {{ cv.contact.githubProfile | replace('https://', '') | replace('http://', '') | replace('www.', '') | trim }}
        </a>
      </li>
      {% endif %}
      {% if cv.contact.githubCollection %}
      <li>
        <a href="{{ cv.contact.githubCollection }}" target="_blank" rel="noopener">
          {{ cv.contact.githubCollection | replace('https://', '') | replace('http://', '') | replace('www.', '') | trim }}
        </a>
      </li>
      {% endif %}
    </ul>
    <p class="intro__summary">{{ cv.summary }}</p>
  </div>
</section>

{% if cv.skills %}
<section class="section skills">
  <div class="section__heading">
    <h2>Core Skills</h2>
  </div>
  <div class="skills-grid">
    {% for skill in cv.skills %}
    <article class="skills-grid__item">
      <h3>{{ skill.label }}</h3>
      {% if skill.items %}
      <ul class="chip-list">
        {% for item in skill.items %}
        <li>{{ item }}</li>
        {% endfor %}
      </ul>
      {% elseif skill.description %}
      <p>{{ skill.description }}</p>
      {% endif %}
    </article>
    {% endfor %}
  </div>
</section>
{% endif %}

<section class="section experience">
  <div class="section__heading">
    <h2>Professional Experience</h2>
  </div>
  <ol class="experience-list">
    {% set currentEnvironment = environment or 'development' %}
    {% set shouldFilter = currentEnvironment == 'development' %}
    {% set includedTags = (cv.tags and cv.tags.included) or [] %}
    {% set excludedTags = (cv.tags and cv.tags.excluded) or [] %}
    {% set includedSet = includedTags | toSet %}
    {% set excludedSet = excludedTags | toSet %}
    {% set includeAllTags = includedSet.has('all') %}
    {% for job in cv.experience %}
    <li class="experience-list__item">
      <header class="experience-list__header">
        <div>
          <h3>
            {{ job.title }}
            {% if job.company %}<span class="experience-list__company"> · {{ job.company }}</span>{% endif %}
          </h3>
          {% if job.location %}
          <p class="experience-list__location">{{ job.location }}</p>
          {% endif %}
        </div>
        <span class="experience-list__dates">{{ job.startDate }} – {{ job.endDate }}</span>
      </header>
      {% if job.summary %}
      <p class="experience-list__summary">{{ job.summary }}</p>
      {% endif %}
      {% if job.achievements %}
      <ul class="experience-list__achievements">
        {% for item in job.achievements %}
        {% set achievementText = item.text or item %}
        {% set achievementTags = item.tags or [] %}
        {% set achievementSet = achievementTags | toSet %}
        {% set isIncluded = true %}
        {% if shouldFilter %}
          {% set isExcluded = achievementSet.intersection(excludedSet).size > 0 %}
          {% set matchesIncluded = includeAllTags or achievementSet.intersection(includedSet).size > 0 %}
          {% set isIncluded = (not isExcluded) and matchesIncluded %}
        {% endif %}
        <li class="experience-list__achievement{% if not isIncluded %} experience-list__achievement--excluded{% endif %}">{{ achievementText }}</li>
        {% endfor %}
      </ul>
      {% endif %}
    </li>
    {% endfor %}
  </ol>
</section>

{% if cv.openSourceProjects %}
<section class="section projects">
  <div class="section__heading">
    <h2>Open Source Projects</h2>
  </div>
  <div class="card-grid">
    {% set currentEnvironment = environment or 'development' %}
    {% set shouldFilter = currentEnvironment == 'development' %}
    {% set includedTags = (cv.tags and cv.tags.included) or [] %}
    {% set excludedTags = (cv.tags and cv.tags.excluded) or [] %}
    {% set includedSet = includedTags | toSet %}
    {% set excludedSet = excludedTags | toSet %}
    {% set includeAllTags = includedSet.has('all') %}
    {% for project in cv.openSourceProjects %}
    {% set projectTags = project.tags or [] %}
    {% set projectSet = projectTags | toSet %}
    {% set isIncluded = true %}
    {% if shouldFilter %}
      {% set isExcluded = projectSet.intersection(excludedSet).size > 0 %}
      {% set matchesIncluded = includeAllTags or projectSet.intersection(includedSet).size > 0 %}
      {% set isIncluded = (not isExcluded) and matchesIncluded %}
    {% endif %}
    <article class="card-grid__item{% if not isIncluded %} card-grid__item--excluded{% endif %}">
      <h3><a href="{{ project.url }}" target="_blank" rel="noopener">{{ project.name }}</a></h3>
      <p>{{ project.description }}</p>
    </article>
    {% endfor %}
  </div>
</section>
{% endif %}

{% if cv.interests %}
<section class="section interests">
  <div class="section__heading">
    <h2>Interests</h2>
  </div>
  <ul class="chip-list">
    {% for interest in cv.interests %}
    <li>{{ interest }}</li>
    {% endfor %}
  </ul>
</section>
{% endif %}
